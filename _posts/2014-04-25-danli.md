---
layout: post
title: "IOS 单例设计模式"
description: "IOS 单例设计模式"
category: "IOS"
tags: [IOS]
---
{% include JB/setup %}

<ul>
    <li>作者：<a href="http://weibo.com/xpmozong" target="blank">寞踪</a></li>
    <li>本文地址：http://xpmozong.github.io/ios/2014/04/25/danli/</li>
    <li>转载请注明出处</li>
</ul>


IOS中，单例设计模式的应用场景为，有多个页面，第一个页面往后面的页面传值，超过2个页面以上，就是用单例设计模式。

创建Singleton类，继承NSObject，Singleton.h的内容为：

    @interface Singleton : NSObject
    // 单例， 类只有唯一的一个实例
    + (Singleton *)sharedSingleton;
    @property (nonatomic, retain) UIButton *b;
    @end


Singleton.m的内容为：
    
    @implementation Singleton
    static Singleton *s = nil;
    + (Singleton *)sharedSingleton
    {
        if (s == nil) {
            s = [[Singleton alloc] init];
        }
        return s;
    }
    @end


注意：单例中的alloc是不能释放的。

调用：第一个页面：
    
    [Singleton sharedSingleton].b = _btn1;


第n个页面：使用：

    [[Singleton sharedSingleton].b setTitle:_textField.text forState:UIControlStateNormal];










